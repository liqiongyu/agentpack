version: 1

profiles:
  default:
    include_tags: ["base"]

targets:
  codex:
    mode: files
    scope: both
    options:
      codex_home: "~/.codex"
      write_repo_skills: true
      write_user_skills: true
      write_user_prompts: true
      write_agents_global: true
      write_agents_repo_root: true
  claude_code:
    mode: files
    scope: both
    options:
      write_repo_commands: true
      write_user_commands: true
      write_repo_skills: false
      write_user_skills: false

modules:
  - id: "instructions:base"
    type: instructions
    tags: ["base"]
    targets: ["codex"]
    source:
      local_path:
        path: "modules/instructions/base"
  - id: "prompt:draftpr"
    type: prompt
    tags: ["base"]
    targets: ["codex"]
    source:
      local_path:
        path: "modules/prompts/draftpr.md"
  - id: "skill:example-skill"
    type: skill
    tags: ["base"]
    targets: ["codex"]
    source:
      local_path:
        path: "modules/skills/example-skill"
  - id: "command:ap-plan"
    type: command
    tags: ["base"]
    targets: ["claude_code"]
    source:
      local_path:
        path: "modules/claude-commands/ap-plan.md"
